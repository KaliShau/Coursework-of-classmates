-- Таблица Roles (Роли)
CREATE TABLE Roles (
    ID SERIAL PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    name VARCHAR(50) NOT NULL UNIQUE,
    description TEXT
);

-- Таблица TypesWork (Виды работ)
CREATE TABLE TypesWork (
    ID SERIAL PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    name VARCHAR(50) NOT NULL UNIQUE,
    description TEXT
);

-- Таблица Users (Пользователи)
CREATE TABLE Users (
    ID SERIAL PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    login VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    
    fio VARCHAR(50),
    phone_number VARCHAR(20),
    role_id INT NOT NULL,
    FOREIGN KEY (role_id) REFERENCES Roles(ID)
);

-- Таблица Statements (Заявления)
CREATE TABLE Statements (
    ID SERIAL PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FIO TEXT NOT NULL,
    address TEXT NOT NULL,
    type_work TEXT NOT NULL,
    types_work_id INT NOT NULL,
    FOREIGN KEY (types_work_id) REFERENCES TypesWork(ID)
);

-- Добавление ролей
INSERT INTO Roles (name, description) VALUES
('Admin', 'Администратор системы'),
('Operator', 'Сотрудник'),
('Client', 'Клиент');

-- Добавление видов работ
INSERT INTO TypesWork (name, description)
VALUES 
('Ремонт', 'Ремонтные работы различной сложности'),
('Уборка', 'Уборка помещений и прилегающих территорий'),
('Монтаж', 'Монтаж оборудования и конструкций'),
('Демонтаж', 'Демонтаж старых конструкций и оборудования'),
('Обслуживание', 'Техническое обслуживание оборудования');

-- Добавление пользователей
INSERT INTO Users (login, password, fio, phone_number, role_id) VALUES
('admin1', 'admin1', 'Иванов Иван Иванович', '+79123456789', 1),
('operator1', 'operator1', 'Петров Петр Петрович', '+79234567890', 2),
('client1', 'client1', 'Сидоров Алексей Владимирович', '+79345678901', 3),
('client2', 'hashed_password4', 'Кузнецова Анна Сергеевна', '+79456789012', 3),
('client3', 'hashed_password5', 'Смирнов Дмитрий Олегович', '+79567890123', 3),
('operator2', 'hashed_password6', 'Васильева Елена Александровна', '+79678901234', 2),
('client4', 'hashed_password7', 'Николаев Артем Игоревич', '+79789012345', 3),
('client5', 'hashed_password8', 'Павлова Ольга Викторовна', '+79890123456', 3),
('admin2', 'hashed_password9', 'Федоров Сергей Николаевич', '+79901234567', 1),
('client6', 'hashed_password10', 'Морозова Татьяна Дмитриевна', '+79112345678', 3),
('operator3', 'hashed_password11', 'Волков Андрей Павлович', '+79223456789', 2),
('client7', 'hashed_password12', 'Алексеева Марина Валерьевна', '+79334567890', 3),
('client8', 'hashed_password13', 'Лебедев Игорь Степанович', '+79445678901', 3),
('client9', 'hashed_password14', 'Соколова Екатерина Андреевна', '+79556789012', 3),
('operator4', 'hashed_password15', 'Козлов Владимир Иванович', '+79667890123', 2),
('client10', 'hashed_password16', 'Новикова Людмила Петровна', '+79778901234', 3),
('client11', 'hashed_password17', 'Медведев Александр Сергеевич', '+79889012345', 3),
('client12', 'hashed_password18', 'Егорова Наталья Владимировна', '+79990123456', 3),
('admin3', 'hashed_password19', 'Орлов Михаил Юрьевич', '+79101234567', 1),
('client13', 'hashed_password20', 'Антонова Виктория Олеговна', '+79212345678', 3);

-- Добавление заявлений
INSERT INTO Statements (FIO, address, type_work, types_work_id) VALUES
('Сидоров Алексей Владимирович', 'ул. Ленина, д.10, кв.25', 'Ремонт ванной комнаты', 1),
('Кузнецова Анна Сергеевна', 'пр. Победы, д.15, кв.42', 'Уборка после ремонта', 2),
('Смирнов Дмитрий Олегович', 'ул. Гагарина, д.33, кв.17', 'Монтаж натяжного потолка', 3),
('Николаев Артем Игоревич', 'ул. Садовая, д.8, кв.3', 'Демонтаж старых окон', 4),
('Павлова Ольга Викторовна', 'ул. Мира, д.12, кв.56', 'Обслуживание кондиционера', 5),
('Морозова Татьяна Дмитриевна', 'ул. Центральная, д.5, кв.12', 'Ремонт кухни', 1),
('Алексеева Марина Валерьевна', 'ул. Лесная, д.20, кв.7', 'Генеральная уборка', 2),
('Лебедев Игорь Степанович', 'ул. Школьная, д.3, кв.34', 'Монтаж дверей', 3),
('Соколова Екатерина Андреевна', 'ул. Парковая, д.11, кв.9', 'Демонтаж перегородки', 4),
('Новикова Людмила Петровна', 'ул. Заречная, д.7, кв.21', 'Обслуживание вентиляции', 5),
('Медведев Александр Сергеевич', 'ул. Солнечная, д.14, кв.5', 'Ремонт балкона', 1),
('Егорова Наталья Владимировна', 'ул. Молодежная, д.9, кв.18', 'Ежедневная уборка', 2),
('Антонова Виктория Олеговна', 'ул. Набережная, д.6, кв.11', 'Монтаж сантехники', 3),
('Иванов Иван Иванович', 'ул. Пушкина, д.4, кв.22', 'Демонтаж старой мебели', 4),
('Петров Петр Петрович', 'ул. Лермонтова, д.17, кв.8', 'Обслуживание отопительной системы', 5),
('Васильева Елена Александровна', 'ул. Чехова, д.2, кв.15', 'Косметический ремонт', 1),
('Федоров Сергей Николаевич', 'ул. Толстого, д.13, кв.6', 'Уборка офиса', 2),
('Волков Андрей Павлович', 'ул. Достоевского, д.19, кв.4', 'Монтаж освещения', 3),
('Козлов Владимир Иванович', 'ул. Гоголя, д.16, кв.10', 'Демонтаж балкона', 4),
('Орлов Михаил Юрьевич', 'ул. Тургенева, д.1, кв.30', 'Обслуживание газового оборудования', 5);